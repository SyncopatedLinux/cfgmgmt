# Maintainer: Robert Pannick <rwpannick@gmail.com>

pkgname=Catch2
pkgver=3.0.1
pkgrel=1
pkgdesc="Modern, C++-native, header-only, test framework for unit-tests, TDD and BDD (v3)"
arch=('x86_64')
url="https://github.com/catchorg/Catch2/"
license=('Boost')
makedepends=('git' 'cmake' 'ninja')
provides=("Catch2")
conflicts=(catch2)
source=(v$pkgver.tar.gz)
sha256sums=('8c4173c68ae7da1b5b505194a0c2d6f1b2aef4ec1e3e7463bde451f26bbaf4e7')

build() {
  cd $pkgname-$pkgver
  cmake -B build \
    -DCMAKE_INSTALL_PREFIX=/usr \
    -DCMAKE_INSTALL_LIBDIR=lib \
    -DCMAKE_BUILD_TYPE=Release \
    -DBUILD_SHARED_LIBS=ON \
    -Wno-dev \
    -G Ninja
}

package() {
  cd $pkgname-$pkgver
  DESTDIR="$pkgdir" ninja -C build install
}
